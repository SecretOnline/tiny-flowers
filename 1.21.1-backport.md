# Backport for 1.21.1

I am writing these notes in case I ever have to go through the pain of doing this ever again.

## Code

Have fun!

- Eyeblossoms don't exist.
- Block and item settings don't have registry key methods.
- Item rendering is different, making the particle code not work.
  - `client.getItemRenderer().getModel(stack, client.world, null, 0).getParticleSprite()` gets item sprites, which is good enough I guess.

## Data generation

Ensure data has been generated before going back to 1.21.1. You will need it.

For the datagen code:

- Move datagen code to main source set.
- Delete the recipe generator. It's hard to specify data components in recipe results so we're doing it by hand.
- Replace imports from `net.minecraft.client.data.` with `net.minecraft.data.client.`
- `ModelSupplier` is `Supplier<JsonElement>`
- There is no tinted item model helper, so you need to upload `Models.GENERATED_TWO_LAYERS` directly.
- Item tinting requires registering to `ColorProviderRegistry.ITEM` in the client entrypoint.

For generated files:

- Copy `src/main/generated/data/advancement` and `src/main/generated/data/recipe` to `src/main/resources/data/tiny-flowers`.
- Edit every recipe's ingredients.
  - Item IDs should be replaced with `{ "item": "<id>" }`
    - Find `    "([^#"]*:[^"]*)"(,?)$` replace `    { "item": "$1" }$2`
  - Tags should be replaced with `{ "tag": "<tag>" }`
    - Find `"#([^"]*)"` replace `{ "tag": "$1" }`
